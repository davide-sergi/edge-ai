{"version":3,"sources":["webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/style/index.css","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extension-editor-manager.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extension-editor.tsx","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extension.tsx","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-contribution.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-model.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-search-bar.tsx","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-search-model.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-source.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-view-container.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-extensions-widget.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/vsx-registry-frontend-module.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/common/vsx-environment.tsx","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/common/vsx-extension-uri.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/common/vsx-registry-api.ts","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/style/defaultIcon.png","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/style/extensions.svg","webpack:////Users/sergi/work/projects/edge-ai/theia/theia-ide-1.1.0/packages/vsx-registry/src/browser/style/index.css?9b8a"],"names":[],"mappings":"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","file":"65.bundle.js","sourcesContent":["var escape = require(\"../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (C) 2020 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n:root {\\n  --theia-vsx-extension-icon-size: calc(var(--theia-ui-icon-font-size)*3);\\n  --theia-vsx-extension-editor-icon-size: calc(var(--theia-vsx-extension-icon-size)*3);\\n}\\n\\n.theia-vsx-extensions-icon {\\n    -webkit-mask: url(\" + escape(require(\"./extensions.svg\")) + \");\\n    mask: url(\" + escape(require(\"./extensions.svg\")) + \");\\n}\\n\\n.theia-vsx-extensions {\\n    height: 100%;\\n}\\n\\n.theia-vsx-extension,\\n.theia-vsx-extensions-view-container .part > .body {\\n    min-height: calc(var(--theia-content-line-height)*3)\\n}\\n\\n.theia-vsx-extensions-search-bar {\\n    padding: var(--theia-ui-padding);\\n    display: flex;\\n    align-content: center;\\n}\\n\\n.theia-vsx-extensions-search-bar .theia-input {\\n    line-height: var(--theia-content-line-height);\\n    flex: 1;\\n    padding-top: calc(var(--theia-ui-padding)/2);\\n    padding-bottom: calc(var(--theia-ui-padding)/2);\\n}\\n\\n.theia-vsx-extension {\\n    display: flex;\\n    flex-direction: row;\\n    line-height: calc(var(--theia-content-line-height)*17/22);\\n    align-items: center;\\n}\\n\\n.theia-vsx-extension-icon {\\n    height: var(--theia-vsx-extension-icon-size);\\n    width: var(--theia-vsx-extension-icon-size);\\n    align-self: center;\\n    padding-right: calc(var(--theia-ui-padding)*2.5);\\n    flex-shrink: 0;\\n    object-fit: contain;\\n}\\n\\n.theia-vsx-extension-icon.placeholder {\\n    background-size: var(--theia-vsx-extension-icon-size);\\n    background-repeat: no-repeat;\\n    background-image: url(\" + escape(require(\"./defaultIcon.png\")) + \");\\n}\\n\\n.theia-vsx-extension-content {\\n    display: flex;\\n    flex-direction: column;\\n    width: calc(100% - var(--theia-vsx-extension-icon-size) - var(--theia-ui-padding)*2.5);\\n}\\n\\n.theia-vsx-extension-content .title {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-content .title .name {\\n    font-weight: bold;\\n}\\n\\n.theia-vsx-extension-content .title .version,\\n.theia-vsx-extension-content .title .stat {\\n    opacity: .85;\\n    font-size: 80%;\\n}\\n\\n.theia-vsx-extension-content .title .stat .average-rating > i {\\n    color: #ff8e00;\\n}\\n\\n.theia-vsx-extension-editor .download-count > i,\\n.theia-vsx-extension-content .title .stat .average-rating > i,\\n.theia-vsx-extension-content .title .stat .download-count > i {\\n    padding-right: calc(var(--theia-ui-padding)/2);\\n}\\n\\n.theia-vsx-extension-content .title .stat .average-rating,\\n.theia-vsx-extension-content .title .stat .download-count {\\n    padding-left: var(--theia-ui-padding);\\n}\\n\\n.theia-vsx-extension-descriptionÂ {\\n    padding-right: calc(var(--theia-ui-padding)*2);\\n}\\n\\n.theia-vsx-extension-publisher {\\n    font-weight: 600;\\n    font-size: 90%;\\n}\\n\\n.theia-vsx-extension-action-bar {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n\\n.theia-vsx-extension-action-bar .action {\\n    font-size: 80%;\\n    min-width: auto !important;\\n    padding: 2px var(--theia-ui-padding) !important;\\n    margin-top: 2px;\\n}\\n\\n/* Editor Section */\\n\\n.theia-vsx-extension-editor {\\n    height: 100%;\\n    overflow: hidden;\\n    display: flex;\\n    flex-direction: column;\\n    padding: var(--theia-ui-padding);\\n}\\n\\n.theia-vsx-extension-editor .header {\\n    display: flex;\\n    padding: calc(var(--theia-ui-padding)*3) calc(var(--theia-ui-padding)*3) calc(var(--theia-ui-padding)*2);\\n    overflow: hidden;\\n    flex-shrink: 0;\\n}\\n\\n.theia-vsx-extension-editor .body {\\n    flex: 1;\\n}\\n\\n.theia-vsx-extension-editor .header .icon-container {\\n    height: var(--theia-vsx-extension-editor-icon-size);\\n    width: var(--theia-vsx-extension-editor-icon-size);\\n    align-self: center;\\n    padding-right: calc(var(--theia-ui-padding)*2.5);\\n    flex-shrink: 0;\\n    object-fit: contain;\\n}\\n\\n.theia-vsx-extension-editor .header .icon-container.placeholder {\\n    background-size: var(--theia-vsx-extension-editor-icon-size);\\n    background-repeat: no-repeat;\\n    background-image: url(\" + escape(require(\"./defaultIcon.png\")) + \");\\n}\\n\\n.theia-vsx-extension-editor .header .details {\\n    overflow: hidden;\\n    user-select: text;\\n    -webkit-user-select: text;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title,\\n.theia-vsx-extension-editor .header .details .subtitle {\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .name {\\n    flex: 0;\\n    font-size: calc(var(--theia-ui-font-size1)*2);\\n    font-weight: 600;\\n    white-space: nowrap;\\n    cursor: pointer;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .identifier {\\n    margin-left: calc(var(--theia-ui-padding)*5/3);\\n    opacity: .6;\\n    background: hsla(0,0%,68%,.31);\\n    user-select: text;\\n    -webkit-user-select: text;\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .preview {\\n    background: #d63f26;\\n}\\n\\n.vs .theia-vsx-extension-editor .header .details .title .preview {\\n    color: white;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .identifier,\\n.theia-vsx-extension-editor .header .details .title .preview,\\n.theia-vsx-extension-editor .header .details .title .builtin {\\n    line-height: var(--theia-code-line-height);\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .identifier,\\n.theia-vsx-extension-editor .header .details .title .preview {\\n    padding: calc(var(--theia-ui-padding)*2/3);\\n    padding-top: 0px;\\n    padding-bottom: 0px;\\n    border-radius: calc(var(--theia-ui-padding)*2/3);\\n}\\n\\n\\n.theia-vsx-extension-editor .header .details .title .preview,\\n.theia-vsx-extension-editor .header .details .title .builtin {\\n    font-size: var(--theia-ui-font-size0);\\n    font-style: italic;\\n    margin-left: calc(var(--theia-ui-padding)*5/3);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle {\\n    padding-top: var(--theia-ui-padding);\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle > span {\\n    display: flex;\\n    align-items: center;\\n    cursor: pointer;\\n    line-height: var(--theia-content-line-height);\\n    height: var(--theia-content-line-height);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle > span:not(:first-child):not(:empty) {\\n    border-left: 1px solid hsla(0,0%,50%,.7);\\n    padding-left: calc(var(--theia-ui-padding)*2);\\n    margin-left: calc(var(--theia-ui-padding)*2);\\n    font-weight: 500;\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .publisher {\\n    font-size: var(--theia-ui-font-size3);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .publisher .namespace-access,\\n.theia-vsx-extension-editor .header .details .subtitle .download-count::before {\\n    padding-right: var(--theia-ui-padding);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .average-rating > i {\\n    color: #ff8e00;\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .average-rating > i:not(:first-child) {\\n    padding-left: calc(var(--theia-ui-padding)/2);\\n}\\n\\n\\n.theia-vsx-extension-editor .header .details .description {\\n    margin-top: calc(var(--theia-ui-padding)*5/3);\\n}\\n\\n.theia-vsx-extension-editor .action {\\n    font-weight: 600;\\n    margin-top: calc(var(--theia-ui-padding)*5/3);\\n    margin-left: 0px;\\n    padding: 1px var(--theia-ui-padding);\\n}\\n\\n/** Theming */\\n\\n.theia-vsx-extension-editor .action.prominent,\\n.theia-vsx-extension-action-bar .action.prominent {\\n    color: var(--theia-extensionButton-prominentForeground);\\n    background-color: var(--theia-extensionButton-prominentBackground);\\n}\\n\\n.theia-vsx-extension-editor .action.prominent:hover,\\n.theia-vsx-extension-action-bar .action.prominent:hover {\\n    background-color: var(--theia-extensionButton-prominentHoverBackground);\\n}\\n\\n\", \"\"]);\n\n// exports\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { WidgetOpenHandler } from '@theia/core/lib/browser';\nimport { VSXExtensionOptions } from './vsx-extension';\nimport { VSXExtensionUri } from '../common/vsx-extension-uri';\nimport { VSXExtensionEditor } from './vsx-extension-editor';\n\n@injectable()\nexport class VSXExtensionEditorManager extends WidgetOpenHandler<VSXExtensionEditor> {\n\n    readonly id = VSXExtensionEditor.ID;\n\n    canHandle(uri: URI): number {\n        const id = VSXExtensionUri.toId(uri);\n        return !!id ? 500 : 0;\n    }\n\n    protected createWidgetOptions(uri: URI): VSXExtensionOptions {\n        const id = VSXExtensionUri.toId(uri);\n        if (!id) {\n            throw new Error('Invalid URI: ' + uri.toString());\n        }\n        return { id };\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as React from 'react';\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { ReactWidget, Message } from '@theia/core/lib/browser';\nimport { VSXExtension } from './vsx-extension';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\n\n@injectable()\nexport class VSXExtensionEditor extends ReactWidget {\n\n    static ID = 'vsx-extension-editor';\n\n    @inject(VSXExtension)\n    protected readonly extension: VSXExtension;\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.addClass('theia-vsx-extension-editor');\n        this.id = VSXExtensionEditor.ID + ':' + this.extension.id;\n        this.title.closable = true;\n        this.updateTitle();\n        this.title.iconClass = 'fa fa-puzzle-piece';\n        this.node.tabIndex = -1;\n\n        this.update();\n        this.toDispose.push(this.model.onDidChange(() => this.update()));\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.node.focus();\n    }\n\n    protected onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        this.updateTitle();\n    }\n\n    protected updateTitle(): void {\n        const label = 'Extension: ' + (this.extension.displayName || this.extension.name);\n        this.title.label = label;\n        this.title.caption = label;\n    }\n\n    protected render(): React.ReactNode {\n        return this.extension.renderEditor();\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as React from 'react';\nimport { injectable, inject } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { OpenerService, open, OpenerOptions } from '@theia/core/lib/browser/opener-service';\nimport { HostedPluginSupport } from '@theia/plugin-ext/lib/hosted/browser/hosted-plugin';\nimport { PluginServer, DeployedPlugin, PluginType } from '@theia/plugin-ext/lib/common/plugin-protocol';\nimport { VSXExtensionUri } from '../common/vsx-extension-uri';\nimport { ProgressService } from '@theia/core/lib/common/progress-service';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { VSXEnvironment } from '../common/vsx-environment';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\nimport { VSXExtensionNamespaceAccess, VSXUser } from '../common/vsx-registry-types';\n\n@injectable()\nexport class VSXExtensionData {\n    readonly version?: string;\n    readonly iconUrl?: string;\n    readonly publisher?: string;\n    readonly name?: string;\n    readonly displayName?: string;\n    readonly description?: string;\n    readonly averageRating?: number;\n    readonly downloadCount?: number;\n    readonly readmeUrl?: string;\n    readonly licenseUrl?: string;\n    readonly repository?: string;\n    readonly license?: string;\n    readonly readme?: string;\n    readonly preview?: boolean;\n    readonly namespaceAccess?: VSXExtensionNamespaceAccess;\n    readonly publishedBy?: VSXUser;\n    static KEYS: Set<(keyof VSXExtensionData)> = new Set([\n        'version',\n        'iconUrl',\n        'publisher',\n        'name',\n        'displayName',\n        'description',\n        'averageRating',\n        'downloadCount',\n        'readmeUrl',\n        'licenseUrl',\n        'repository',\n        'license',\n        'readme',\n        'preview',\n        'namespaceAccess',\n        'publishedBy'\n    ]);\n}\n\n@injectable()\nexport class VSXExtensionOptions {\n    readonly id: string;\n}\n\nexport const VSXExtensionFactory = Symbol('VSXExtensionFactory');\nexport type VSXExtensionFactory = (options: VSXExtensionOptions) => VSXExtension;\n\n@injectable()\nexport class VSXExtension implements VSXExtensionData, TreeElement {\n\n    @inject(VSXExtensionOptions)\n    protected readonly options: VSXExtensionOptions;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(HostedPluginSupport)\n    protected readonly pluginSupport: HostedPluginSupport;\n\n    @inject(PluginServer)\n    protected readonly pluginServer: PluginServer;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @inject(VSXEnvironment)\n    readonly environment: VSXEnvironment;\n\n    @inject(VSXExtensionsSearchModel)\n    readonly search: VSXExtensionsSearchModel;\n\n    protected readonly data: Partial<VSXExtensionData> = {};\n\n    get uri(): URI {\n        return VSXExtensionUri.toUri(this.id);\n    }\n\n    get id(): string {\n        return this.options.id;\n    }\n\n    get visible(): boolean {\n        return !!this.name;\n    }\n\n    get plugin(): DeployedPlugin | undefined {\n        return this.pluginSupport.getPlugin(this.id);\n    }\n\n    get installed(): boolean {\n        return !!this.plugin;\n    }\n\n    get builtin(): boolean {\n        const plugin = this.plugin;\n        const type = plugin && plugin.type;\n        return type === PluginType.System;\n    }\n\n    update(data: Partial<VSXExtensionData>): void {\n        for (const key of VSXExtensionData.KEYS) {\n            if (key in data) {\n                Object.assign(this.data, { [key]: data[key] });\n            }\n        }\n    }\n\n    protected getData<K extends keyof VSXExtensionData>(key: K): VSXExtensionData[K] {\n        const plugin = this.plugin;\n        const model = plugin && plugin.metadata.model;\n        if (model && key in model) {\n            return model[key as keyof typeof model] as VSXExtensionData[K];\n        }\n        return this.data[key];\n    }\n\n    get iconUrl(): string | undefined {\n        const plugin = this.plugin;\n        const iconUrl = plugin && plugin.metadata.model.iconUrl;\n        if (iconUrl) {\n            return new Endpoint({ path: iconUrl }).getRestUrl().toString();\n        }\n        return this.data['iconUrl'];\n    }\n\n    get publisher(): string | undefined {\n        return this.getData('publisher');\n    }\n\n    get name(): string | undefined {\n        return this.getData('name');\n    }\n\n    get displayName(): string | undefined {\n        return this.getData('displayName') || this.name;\n    }\n\n    get description(): string | undefined {\n        return this.getData('description');\n    }\n\n    get version(): string | undefined {\n        return this.getData('version');\n    }\n\n    get averageRating(): number | undefined {\n        return this.getData('averageRating');\n    }\n\n    get downloadCount(): number | undefined {\n        return this.getData('downloadCount');\n    }\n\n    get readmeUrl(): string | undefined {\n        const plugin = this.plugin;\n        const readmeUrl = plugin && plugin.metadata.model.readmeUrl;\n        if (readmeUrl) {\n            return new Endpoint({ path: readmeUrl }).getRestUrl().toString();\n        }\n        return this.data['readmeUrl'];\n    }\n\n    get licenseUrl(): string | undefined {\n        const plugin = this.plugin;\n        const licenseUrl = plugin && plugin.metadata.model.licenseUrl;\n        if (licenseUrl) {\n            return new Endpoint({ path: licenseUrl }).getRestUrl().toString();\n        }\n        return this.data['licenseUrl'];\n    }\n\n    get repository(): string | undefined {\n        return this.getData('repository');\n    }\n\n    get license(): string | undefined {\n        return this.getData('license');\n    }\n\n    get readme(): string | undefined {\n        return this.getData('readme');\n    }\n\n    get preview(): boolean | undefined {\n        return this.getData('preview');\n    }\n\n    get namespaceAccess(): VSXExtensionNamespaceAccess | undefined {\n        return this.getData('namespaceAccess');\n    }\n\n    get publishedBy(): VSXUser | undefined {\n        return this.getData('publishedBy');\n    }\n\n    protected _busy = 0;\n    get busy(): boolean {\n        return !!this._busy;\n    }\n\n    async install(): Promise<void> {\n        this._busy++;\n        try {\n            await this.progressService.withProgress(`\"Installing '${this.id}' extension...`, 'extensions', () =>\n                this.pluginServer.deploy(this.uri.toString())\n            );\n        } finally {\n            this._busy--;\n        }\n    }\n\n    async uninstall(): Promise<void> {\n        this._busy++;\n        try {\n            await this.progressService.withProgress(`Uninstalling '${this.id}' extension...`, 'extensions', () =>\n                this.pluginServer.undeploy(this.id)\n            );\n        } finally {\n            this._busy--;\n        }\n    }\n\n    async open(options: OpenerOptions = { mode: 'reveal' }): Promise<void> {\n        await this.doOpen(this.uri, options);\n    }\n\n    async doOpen(uri: URI, options?: OpenerOptions): Promise<void> {\n        await open(this.openerService, uri, options);\n    }\n\n    render(): React.ReactNode {\n        return <VSXExtensionComponent extension={this} />;\n    }\n\n    renderEditor(): React.ReactNode {\n        return <VSXExtensionEditorComponent extension={this} />;\n    }\n\n}\n\nexport abstract class AbstractVSXExtensionComponent extends React.Component<AbstractVSXExtensionComponent.Props> {\n\n    readonly install = async () => {\n        this.forceUpdate();\n        try {\n            const pending = this.props.extension.install();\n            this.forceUpdate();\n            await pending;\n        } finally {\n            this.forceUpdate();\n        }\n    };\n\n    readonly uninstall = async () => {\n        try {\n            const pending = this.props.extension.uninstall();\n            this.forceUpdate();\n            await pending;\n        } finally {\n            this.forceUpdate();\n        }\n    };\n\n    protected renderAction(): React.ReactNode {\n        const extension = this.props.extension;\n        const { builtin, busy, installed } = extension;\n        if (builtin) {\n            return undefined;\n        }\n        if (busy) {\n            if (installed) {\n                return <button className=\"theia-button action theia-mod-disabled\">Uninstalling</button>;\n            }\n            return <button className=\"theia-button action prominent theia-mod-disabled\">Installing</button>;\n        }\n        if (installed) {\n            return <button className=\"theia-button action\" onClick={this.uninstall}>Uninstall</button>;\n        }\n        return <button className=\"theia-button prominent action\" onClick={this.install}>Install</button>;\n    }\n\n}\nexport namespace AbstractVSXExtensionComponent {\n    export interface Props {\n        extension: VSXExtension\n    }\n}\n\nconst downloadFormatter = new Intl.NumberFormat();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst downloadCompactFormatter = new Intl.NumberFormat(undefined, { notation: 'compact', compactDisplay: 'short' } as any);\n\nexport class VSXExtensionComponent extends AbstractVSXExtensionComponent {\n    render(): React.ReactNode {\n        const { iconUrl, publisher, displayName, description, version, downloadCount, averageRating } = this.props.extension;\n        return <div className='theia-vsx-extension'>\n            {iconUrl ?\n                <img className='theia-vsx-extension-icon' src={iconUrl} /> :\n                <div className='theia-vsx-extension-icon placeholder' />}\n            <div className='theia-vsx-extension-content'>\n                <div className='title'>\n                    <div className='noWrapInfo'>\n                        <span className='name'>{displayName}</span> <span className='version'>{version}</span>\n                    </div>\n                    <div className='stat'>\n                        {!!downloadCount && <span className='download-count'><i className='fa fa-download' />{downloadCompactFormatter.format(downloadCount)}</span>}\n                        {!!averageRating && <span className='average-rating'><i className='fa fa-star' />{averageRating.toFixed(1)}</span>}\n                    </div>\n                </div>\n                <div className='noWrapInfo theia-vsx-extension-description'>{description}</div>\n                <div className='theia-vsx-extension-action-bar'>\n                    <span className='noWrapInfo theia-vsx-extension-publisher'>{publisher}</span>\n                    {this.renderAction()}\n                </div>\n            </div>\n        </div >;\n    }\n}\n\nexport class VSXExtensionEditorComponent extends AbstractVSXExtensionComponent {\n    render(): React.ReactNode {\n        const {\n            builtin, preview, id, iconUrl, publisher, displayName, description,\n            averageRating, downloadCount, repository, license, readme\n        } = this.props.extension;\n        return <React.Fragment>\n            <div className='header'>\n                {iconUrl ?\n                    <img className='icon-container' src={iconUrl} /> :\n                    <div className='icon-container placeholder' />}\n                <div className='details'>\n                    <div className='title'>\n                        <span title='Extension name' className='name' onClick={this.openExtension}>{displayName}</span>\n                        <span title='Extension identifier' className='identifier'>{id}</span>\n                        {preview && <span className='preview'>Preview</span>}\n                        {builtin && <span className='builtin'>Built-in</span>}\n                    </div>\n                    <div className='subtitle'>\n                        <span title='Publisher name' className='publisher' onClick={this.searchPublisher}>\n                            {this.renderNamespaceAccess()}\n                            {publisher}\n                        </span>\n                        {!!downloadCount && <span className='download-count' onClick={this.openExtension}>\n                            <i className=\"fa fa-download\" />{downloadFormatter.format(downloadCount)}</span>}\n                        {averageRating !== undefined && <span className='average-rating' onClick={this.openAverageRating}>{this.renderStars()}</span>}\n                        {repository && <span className='repository' onClick={this.openRepository}>Repository</span>}\n                        {license && <span className='license' onClick={this.openLicense}>{license}</span>}\n                    </div>\n                    <div className='description noWrapInfo'>{description}</div>\n                    {this.renderAction()}\n                </div>\n            </div>\n            {readme && <div className='body'\n                ref={body => this.body = (body || undefined)}\n                onClick={this.openLink}\n                dangerouslySetInnerHTML={{ __html: readme }} />}\n        </React.Fragment>;\n    }\n\n    protected renderNamespaceAccess(): React.ReactNode {\n        const { publisher, namespaceAccess, publishedBy } = this.props.extension;\n        if (namespaceAccess === undefined) {\n            return undefined;\n        }\n        let tooltip = publishedBy ? ` Published by \"${publishedBy.loginName}\".` : '';\n        let icon;\n        if (namespaceAccess === 'public') {\n            icon = 'globe';\n            tooltip = `Everyone can publish to \"${publisher}\" namespace.` + tooltip;\n        } else {\n            icon = 'shield';\n            tooltip = `Only verified owners can publish to \"${publisher}\" namespace.` + tooltip;\n        }\n        return <i className={`fa fa-${icon} namespace-access`} title={tooltip} onClick={this.openPublishedBy} />;\n    }\n\n    protected renderStars(): React.ReactNode {\n        const rating = this.props.extension.averageRating || 0;\n\n        const renderStarAt = (position: number) => position <= rating ?\n            <i className='fa fa-star' /> :\n            position > rating && position - rating < 1 ?\n                <i className='fa fa-star-half-o' /> :\n                <i className='fa fa-star-o' />;\n        return <React.Fragment>\n            {renderStarAt(1)}{renderStarAt(2)}{renderStarAt(3)}{renderStarAt(4)}{renderStarAt(5)}\n        </React.Fragment>;\n    }\n\n    protected body: HTMLElement | undefined;\n\n    // TODO replace with webview\n    readonly openLink = (event: React.MouseEvent) => {\n        if (!this.body) {\n            return;\n        }\n        const target = event.nativeEvent.target;\n        if (!(target instanceof HTMLElement)) {\n            return;\n        }\n        let node = target;\n        while (node.tagName.toLowerCase() !== 'a') {\n            if (node === this.body) {\n                return;\n            }\n            if (!(node.parentElement instanceof HTMLElement)) {\n                return;\n            }\n            node = node.parentElement;\n        }\n        const href = node.getAttribute('href');\n        if (href && !href.startsWith('#')) {\n            event.preventDefault();\n            this.props.extension.doOpen(new URI(href));\n        }\n    };\n\n    readonly openExtension = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const uri = await extension.environment.getRegistryUri();\n        extension.doOpen(uri.resolve('extension/' + extension.id.replace('.', '/')));\n    };\n    readonly searchPublisher = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        if (extension.publisher) {\n            extension.search.query = extension.publisher;\n        }\n    };\n    readonly openPublishedBy = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const homepage = extension.publishedBy && extension.publishedBy.homepage;\n        if (homepage) {\n            extension.doOpen(new URI(homepage));\n        }\n    };\n    readonly openAverageRating = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const uri = await extension.environment.getRegistryUri();\n        extension.doOpen(uri.resolve('extension/' + extension.id.replace('.', '/') + '/reviews'));\n    };\n    readonly openRepository = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        if (extension.repository) {\n            extension.doOpen(new URI(extension.repository));\n        }\n    };\n    readonly openLicense = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const licenseUrl = extension.licenseUrl;\n        if (licenseUrl) {\n            extension.doOpen(new URI(licenseUrl));\n        }\n    };\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { Command, CommandRegistry } from '@theia/core/lib/common/command';\nimport { AbstractViewContribution } from '@theia/core/lib/browser/shell/view-contribution';\nimport { VSXExtensionsViewContainer } from './vsx-extensions-view-container';\nimport { Widget } from '@theia/core/lib/browser/widgets/widget';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport { ColorContribution } from '@theia/core/lib/browser/color-application-contribution';\nimport { ColorRegistry, Color } from '@theia/core/lib/browser/color-registry';\nimport { TabBarToolbarContribution, TabBarToolbarRegistry } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\n\nexport namespace VSXExtensionsCommands {\n    export const CLEAR_ALL: Command = {\n        id: 'vsxExtensions.clearAll',\n        category: 'Extensions',\n        label: 'Clear Search Results',\n        iconClass: 'clear-all'\n    };\n}\n\n@injectable()\nexport class VSXExtensionsContribution extends AbstractViewContribution<VSXExtensionsViewContainer> implements ColorContribution, TabBarToolbarContribution {\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    constructor() {\n        super({\n            widgetId: VSXExtensionsViewContainer.ID,\n            widgetName: VSXExtensionsViewContainer.LABEL,\n            defaultWidgetOptions: {\n                area: 'left',\n                rank: 500\n            },\n            toggleCommandId: 'vsxExtensions.toggle',\n            toggleKeybinding: 'ctrlcmd+shift+x'\n        });\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        super.registerCommands(commands);\n        commands.registerCommand(VSXExtensionsCommands.CLEAR_ALL, {\n            execute: w => this.withWidget(w, () => this.model.search.query = ''),\n            isEnabled: w => this.withWidget(w, () => !!this.model.search.query),\n            isVisible: w => this.withWidget(w, () => true)\n        });\n    }\n\n    registerToolbarItems(registry: TabBarToolbarRegistry): void {\n        registry.registerItem({\n            id: VSXExtensionsCommands.CLEAR_ALL.id,\n            command: VSXExtensionsCommands.CLEAR_ALL.id,\n            tooltip: VSXExtensionsCommands.CLEAR_ALL.label,\n            priority: 1,\n            onDidChange: this.model.onDidChange\n        });\n    }\n\n    registerColors(colors: ColorRegistry): void {\n        // VS Code colors should be aligned with https://code.visualstudio.com/api/references/theme-color#extensions\n        colors.register(\n            {\n                id: 'extensionButton.prominentBackground', defaults: {\n                    dark: '#327e36',\n                    light: '#327e36'\n                }, description: 'Button background color for actions extension that stand out (e.g. install button).'\n            },\n            {\n                id: 'extensionButton.prominentForeground', defaults: {\n                    dark: Color.white,\n                    light: Color.white\n                }, description: 'Button foreground color for actions extension that stand out (e.g. install button).'\n            },\n            {\n                id: 'extensionButton.prominentHoverBackground', defaults: {\n                    dark: '#28632b',\n                    light: '#28632b'\n                }, description: 'Button background hover color for actions extension that stand out (e.g. install button).'\n            }\n        );\n    }\n\n    protected withWidget<T>(widget: Widget | undefined = this.tryGetWidget(), fn: (widget: VSXExtensionsViewContainer) => T): T | false {\n        if (widget instanceof VSXExtensionsViewContainer && widget.id === VSXExtensionsViewContainer.ID) {\n            return fn(widget);\n        }\n        return false;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport debounce from 'p-debounce';\nimport * as showdown from 'showdown';\nimport * as sanitize from 'sanitize-html';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { CancellationToken, CancellationTokenSource } from '@theia/core/lib/common/cancellation';\nimport { VSXRegistryAPI, VSXResponseError } from '../common/vsx-registry-api';\nimport { VSXSearchParam } from '../common/vsx-registry-types';\nimport { HostedPluginSupport } from '@theia/plugin-ext/lib/hosted/browser/hosted-plugin';\nimport { VSXExtension, VSXExtensionFactory } from './vsx-extension';\nimport { ProgressService } from '@theia/core/lib/common/progress-service';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\n\n@injectable()\nexport class VSXExtensionsModel {\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    @inject(VSXRegistryAPI)\n    protected readonly api: VSXRegistryAPI;\n\n    @inject(HostedPluginSupport)\n    protected readonly pluginSupport: HostedPluginSupport;\n\n    @inject(VSXExtensionFactory)\n    protected readonly extensionFactory: VSXExtensionFactory;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @inject(VSXExtensionsSearchModel)\n    readonly search: VSXExtensionsSearchModel;\n\n    protected readonly initialized = new Deferred<void>();\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        await Promise.all([\n            this.initInstalled(),\n            this.initSearchResult()\n        ]);\n        this.initialized.resolve();\n    }\n\n    protected async initInstalled(): Promise<void> {\n        await this.pluginSupport.willStart;\n        this.pluginSupport.onDidChangePlugins(() => this.updateInstalled());\n        try {\n            await this.updateInstalled();\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    protected async initSearchResult(): Promise<void> {\n        this.search.onDidChangeQuery(() => this.updateSearchResult());\n        try {\n            await this.updateSearchResult();\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    /**\n     * single source of all extensions\n     */\n    protected readonly extensions = new Map<string, VSXExtension>();\n\n    protected _installed = new Set<string>();\n    get installed(): IterableIterator<string> {\n        return this._installed.values();\n    }\n\n    protected _searchResult = new Set<string>();\n    get searchResult(): IterableIterator<string> {\n        return this._searchResult.values();\n    }\n\n    getExtension(id: string): VSXExtension | undefined {\n        return this.extensions.get(id);\n    }\n\n    protected setExtension(id: string): VSXExtension {\n        let extension = this.extensions.get(id);\n        if (!extension) {\n            extension = this.extensionFactory({ id });\n            this.extensions.set(id, extension);\n        }\n        return extension;\n    }\n\n    protected doChange<T>(task: () => Promise<T>): Promise<T>;\n    protected doChange<T>(task: () => Promise<T>, token: CancellationToken): Promise<T | undefined>;\n    protected doChange<T>(task: () => Promise<T>, token: CancellationToken = CancellationToken.None): Promise<T | undefined> {\n        return this.progressService.withProgress('', 'extensions', async () => {\n            if (token && token.isCancellationRequested) {\n                return undefined;\n            }\n            const result = await task();\n            if (token && token.isCancellationRequested) {\n                return undefined;\n            }\n            this.onDidChangeEmitter.fire(undefined);\n            return result;\n        });\n    }\n\n    protected searchCancellationTokenSource = new CancellationTokenSource();\n    protected updateSearchResult = debounce(() => {\n        this.searchCancellationTokenSource.cancel();\n        this.searchCancellationTokenSource = new CancellationTokenSource();\n        const query = this.search.query;\n        return this.doUpdateSearchResult({ query }, this.searchCancellationTokenSource.token);\n    }, 150);\n    protected doUpdateSearchResult(param: VSXSearchParam, token: CancellationToken): Promise<void> {\n        return this.doChange(async () => {\n            const result = await this.api.search(param);\n            if (token.isCancellationRequested) {\n                return;\n            }\n            const searchResult = new Set<string>();\n            for (const data of result.extensions) {\n                const id = data.namespace.toLowerCase() + '.' + data.name.toLowerCase();\n                this.setExtension(id).update(Object.assign(data, {\n                    publisher: data.namespace,\n                    downloadUrl: data.files.download,\n                    iconUrl: data.files.icon,\n                    readmeUrl: data.files.readme,\n                    licenseUrl: data.files.license,\n                }));\n                searchResult.add(id);\n            }\n            this._searchResult = searchResult;\n        }, token);\n    }\n\n    protected async updateInstalled(): Promise<void> {\n        return this.doChange(async () => {\n            const plugins = this.pluginSupport.plugins;\n            const installed = new Set<string>();\n            const refreshing = [];\n            for (const plugin of plugins) {\n                if (plugin.model.engine.type === 'vscode') {\n                    const id = plugin.model.id;\n                    this._installed.delete(id);\n                    const extension = this.setExtension(id);\n                    installed.add(extension.id);\n                    refreshing.push(this.refresh(id));\n                }\n            }\n            for (const id of this._installed) {\n                refreshing.push(this.refresh(id));\n            }\n            Promise.all(refreshing);\n            const installedSorted = Array.from(installed).sort((a, b) => this.compareExtensions(a, b));\n            this._installed = new Set(installedSorted.values());\n        });\n    }\n\n    resolve(id: string): Promise<VSXExtension> {\n        return this.doChange(async () => {\n            await this.initialized.promise;\n            const extension = await this.refresh(id);\n            if (!extension) {\n                throw new Error(`Failed to resolve ${id} extension.`);\n            }\n            if (extension.readmeUrl) {\n                try {\n                    const rawReadme = await this.api.fetchText(extension.readmeUrl);\n                    const readme = this.compileReadme(rawReadme);\n                    extension.update({ readme });\n                } catch (e) {\n                    if (!VSXResponseError.is(e) || e.statusCode !== 404) {\n                        console.error(`[${id}]: failed to compile readme, reason:`, e);\n                    }\n                }\n            }\n            return extension;\n        });\n    }\n\n    protected compileReadme(readmeMarkdown: string): string {\n        const markdownConverter = new showdown.Converter({\n            noHeaderId: true,\n            strikethrough: true,\n            headerLevelStart: 2\n        });\n\n        const readmeHtml = markdownConverter.makeHtml(readmeMarkdown);\n        return sanitize(readmeHtml, {\n            allowedTags: sanitize.defaults.allowedTags.concat(['h1', 'h2', 'img'])\n        });\n    }\n\n    protected async refresh(id: string): Promise<VSXExtension | undefined> {\n        try {\n            const data = await this.api.getExtension(id);\n            if (data.error) {\n                return this.onDidFailRefresh(id, data.error);\n            }\n            const extension = this.setExtension(id);\n            extension.update(Object.assign(data, {\n                publisher: data.namespace,\n                downloadUrl: data.files.download,\n                iconUrl: data.files.icon,\n                readmeUrl: data.files.readme,\n                licenseUrl: data.files.license,\n            }));\n            return extension;\n        } catch (e) {\n            return this.onDidFailRefresh(id, e);\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected onDidFailRefresh(id: string, error: any): VSXExtension | undefined {\n        const cached = this.getExtension(id);\n        if (cached && cached.installed) {\n            return cached;\n        }\n        console.error(`[${id}]: failed to refresh, reason:`, error);\n        return undefined;\n    }\n\n    /**\n     * Compare two extensions based on their display name, and publisher if applicable.\n     * @param a the first extension id for comparison.\n     * @param b the second extension id for comparison.\n     */\n    protected compareExtensions(a: string, b: string): number {\n        const extensionA = this.getExtension(a);\n        const extensionB = this.getExtension(b);\n        if (!extensionA || !extensionB) {\n            return 0;\n        }\n        if (extensionA.displayName && extensionB.displayName) {\n            return extensionA.displayName.localeCompare(extensionB.displayName);\n        }\n        if (extensionA.publisher && extensionB.publisher) {\n            return extensionA.publisher.localeCompare(extensionB.publisher);\n        }\n        return 0;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as React from 'react';\nimport { injectable, postConstruct, inject } from 'inversify';\nimport { ReactWidget, Message } from '@theia/core/lib/browser/widgets';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\n\n@injectable()\nexport class VSXExtensionsSearchBar extends ReactWidget {\n\n    @inject(VSXExtensionsSearchModel)\n    protected readonly model: VSXExtensionsSearchModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.id = 'vsx-extensions-search-bar';\n        this.addClass('theia-vsx-extensions-search-bar');\n        this.model.onDidChangeQuery(() => this.update());\n    }\n\n    protected input: HTMLInputElement | undefined;\n\n    protected render(): React.ReactNode {\n        return <input type='text'\n            ref={input => this.input = input || undefined}\n            value={this.model.query}\n            className='theia-input'\n            placeholder='Search Extensions in Open VSX Registry'\n            onChange={this.updateQuery}>\n        </input>;\n    }\n\n    protected updateQuery = (e: React.ChangeEvent<HTMLInputElement>) => this.model.query = e.target.value;\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        if (this.input) {\n            this.input.focus();\n        }\n    }\n\n    protected onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.update();\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from 'inversify';\nimport { Emitter } from '@theia/core/lib/common/event';\n\n@injectable()\nexport class VSXExtensionsSearchModel {\n\n    protected readonly onDidChangeQueryEmitter = new Emitter<string>();\n    readonly onDidChangeQuery = this.onDidChangeQueryEmitter.event;\n\n    protected _query = '';\n    set query(query: string) {\n        if (this._query === query) {\n            return;\n        }\n        this._query = query;\n        this.onDidChangeQueryEmitter.fire(this._query);\n    }\n    get query(): string {\n        return this._query;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { TreeSource, TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\n\n@injectable()\nexport class VSXExtensionsSourceOptions {\n    static INSTALLED = 'installed';\n    static BUILT_IN = 'builtin';\n    static SEARCH_RESULT = 'searchResult';\n    readonly id: string;\n}\n\n@injectable()\nexport class VSXExtensionsSource extends TreeSource {\n\n    @inject(VSXExtensionsSourceOptions)\n    protected readonly options: VSXExtensionsSourceOptions;\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        this.fireDidChange();\n        this.toDispose.push(this.model.onDidChange(() => this.fireDidChange()));\n    }\n\n    *getElements(): IterableIterator<TreeElement> {\n        for (const id of this.doGetElements()) {\n            const extension = this.model.getExtension(id);\n            if (!extension) {\n                continue;\n            }\n            if (this.options.id === VSXExtensionsSourceOptions.BUILT_IN) {\n                if (extension.builtin) {\n                    yield extension;\n                }\n            } else if (!extension.builtin) {\n                yield extension;\n            }\n        }\n    }\n\n    protected doGetElements(): IterableIterator<string> {\n        if (this.options.id === VSXExtensionsSourceOptions.SEARCH_RESULT) {\n            return this.model.searchResult;\n        }\n        return this.model.installed;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n *******************************************************************************â*/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { ViewContainer, PanelLayout, ViewContainerPart, Message } from '@theia/core/lib/browser';\nimport { VSXExtensionsSearchBar } from './vsx-extensions-search-bar';\nimport { VSXExtensionsWidget, } from './vsx-extensions-widget';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\n\n@injectable()\nexport class VSXExtensionsViewContainer extends ViewContainer {\n\n    static ID = 'vsx-extensions-view-container';\n    static LABEL = 'Extensions';\n\n    @inject(VSXExtensionsSearchBar)\n    protected readonly searchBar: VSXExtensionsSearchBar;\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    @postConstruct()\n    protected init(): void {\n        super.init();\n        this.id = VSXExtensionsViewContainer.ID;\n        this.addClass('theia-vsx-extensions-view-container');\n\n        this.setTitleOptions({\n            label: VSXExtensionsViewContainer.LABEL,\n            iconClass: 'theia-vsx-extensions-icon',\n            closeable: true\n        });\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        this.searchBar.activate();\n    }\n\n    protected onAfterAttach(msg: Message): void {\n        super.onBeforeAttach(msg);\n        this.updateMode();\n        this.toDisposeOnDetach.push(this.model.search.onDidChangeQuery(() => this.updateMode()));\n    }\n\n    protected configureLayout(layout: PanelLayout): void {\n        layout.addWidget(this.searchBar);\n        super.configureLayout(layout);\n    }\n\n    protected currentMode: VSXExtensionsViewContainer.Mode = VSXExtensionsViewContainer.InitialMode;\n    protected readonly lastModeState = new Map<VSXExtensionsViewContainer.Mode, ViewContainer.State>();\n\n    protected updateMode(): void {\n        const currentMode: VSXExtensionsViewContainer.Mode = !this.model.search.query ? VSXExtensionsViewContainer.DefaultMode : VSXExtensionsViewContainer.SearchResultMode;\n        if (currentMode === this.currentMode) {\n            return;\n        }\n        if (this.currentMode !== VSXExtensionsViewContainer.InitialMode) {\n            this.lastModeState.set(this.currentMode, super.doStoreState());\n        }\n        this.currentMode = currentMode;\n        const lastState = this.lastModeState.get(currentMode);\n        if (lastState) {\n            super.doRestoreState(lastState);\n        } else {\n            for (const part of this.getParts()) {\n                this.applyModeToPart(part);\n            }\n        }\n        if (this.currentMode === VSXExtensionsViewContainer.SearchResultMode) {\n            const searchPart = this.getParts().find(part => part.wrapped.id === VSXExtensionsWidget.SEARCH_RESULT_ID);\n            if (searchPart) {\n                searchPart.collapsed = false;\n                searchPart.show();\n            }\n        }\n    }\n\n    protected registerPart(part: ViewContainerPart): void {\n        super.registerPart(part);\n        this.applyModeToPart(part);\n    }\n\n    protected applyModeToPart(part: ViewContainerPart): void {\n        const partMode = (part.wrapped.id === VSXExtensionsWidget.SEARCH_RESULT_ID ? VSXExtensionsViewContainer.SearchResultMode : VSXExtensionsViewContainer.DefaultMode);\n        if (this.currentMode === partMode) {\n            part.show();\n        } else {\n            part.hide();\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected doStoreState(): any {\n        const modes: VSXExtensionsViewContainer.State['modes'] = {};\n        for (const mode of this.lastModeState.keys()) {\n            modes[mode] = this.lastModeState.get(mode);\n        }\n        return {\n            query: this.model.search.query,\n            modes\n        };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected doRestoreState(state: any): void {\n        // eslint-disable-next-line guard-for-in\n        for (const key in state.modes) {\n            const mode = Number(key) as VSXExtensionsViewContainer.Mode;\n            const modeState = state.modes[mode];\n            if (modeState) {\n                this.lastModeState.set(mode, modeState);\n            }\n        }\n        this.model.search.query = state.query;\n    }\n\n}\nexport namespace VSXExtensionsViewContainer {\n    export const InitialMode = 0;\n    export const DefaultMode = 1;\n    export const SearchResultMode = 2;\n    export type Mode = typeof InitialMode | typeof DefaultMode | typeof SearchResultMode;\n    export interface State {\n        query: string;\n        modes: {\n            [mode: number]: ViewContainer.State | undefined\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, interfaces, postConstruct, inject } from 'inversify';\nimport { SourceTreeWidget } from '@theia/core/lib/browser/source-tree';\nimport { VSXExtensionsSource, VSXExtensionsSourceOptions } from './vsx-extensions-source';\n\n@injectable()\nexport class VSXExtensionsWidgetOptions extends VSXExtensionsSourceOptions {\n}\n\n@injectable()\nexport class VSXExtensionsWidget extends SourceTreeWidget {\n\n    static ID = 'vsx-extensions';\n    static INSTALLED_ID = VSXExtensionsWidget.ID + ':' + VSXExtensionsSourceOptions.INSTALLED;\n    static SEARCH_RESULT_ID = VSXExtensionsWidget.ID + ':' + VSXExtensionsSourceOptions.SEARCH_RESULT;\n    static BUILT_IN_ID = VSXExtensionsWidget.ID + ':' + VSXExtensionsSourceOptions.BUILT_IN;\n\n    static createWidget(parent: interfaces.Container, options: VSXExtensionsWidgetOptions): VSXExtensionsWidget {\n        const child = SourceTreeWidget.createContainer(parent, {\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(VSXExtensionsSourceOptions).toConstantValue(options);\n        child.bind(VSXExtensionsSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(VSXExtensionsWidgetOptions).toConstantValue(options);\n        child.bind(VSXExtensionsWidget).toSelf();\n        return child.get(VSXExtensionsWidget);\n    }\n\n    @inject(VSXExtensionsWidgetOptions)\n    protected readonly options: VSXExtensionsWidgetOptions;\n\n    @inject(VSXExtensionsSource)\n    protected readonly extensionsSource: VSXExtensionsSource;\n\n    @postConstruct()\n    protected init(): void {\n        super.init();\n        this.addClass('theia-vsx-extensions');\n\n        this.id = VSXExtensionsWidget.ID + ':' + this.options.id;\n        const title = this.computeTitle();\n        this.title.label = title;\n        this.title.caption = title;\n\n        this.toDispose.push(this.extensionsSource);\n        this.source = this.extensionsSource;\n    }\n\n    protected computeTitle(): string {\n        if (this.id === VSXExtensionsWidget.INSTALLED_ID) {\n            return 'Installed';\n        }\n        if (this.id === VSXExtensionsWidget.BUILT_IN_ID) {\n            return 'Built-in';\n        }\n        return 'Open VSX Registry';\n    }\n\n}\n\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport '../../src/browser/style/index.css';\n\nimport { ContainerModule } from 'inversify';\nimport { WidgetFactory, bindViewContribution, FrontendApplicationContribution, ViewContainerIdentifier, OpenHandler, WidgetManager } from '@theia/core/lib/browser';\nimport { VSXExtensionsViewContainer } from './vsx-extensions-view-container';\nimport { VSXExtensionsContribution } from './vsx-extensions-contribution';\nimport { VSXExtensionsSearchBar } from './vsx-extensions-search-bar';\nimport { VSXRegistryAPI } from '../common/vsx-registry-api';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport { ColorContribution } from '@theia/core/lib/browser/color-application-contribution';\nimport { VSXExtensionsWidget, VSXExtensionsWidgetOptions } from './vsx-extensions-widget';\nimport { TabBarToolbarContribution } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { VSXExtensionFactory, VSXExtension, VSXExtensionOptions } from './vsx-extension';\nimport { VSXExtensionEditor } from './vsx-extension-editor';\nimport { VSXExtensionEditorManager } from './vsx-extension-editor-manager';\nimport { VSXExtensionsSourceOptions } from './vsx-extensions-source';\nimport { VSXEnvironment } from '../common/vsx-environment';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\n\nexport default new ContainerModule(bind => {\n    bind(VSXEnvironment).toSelf().inRequestScope();\n    bind(VSXRegistryAPI).toSelf().inSingletonScope();\n\n    bind(VSXExtension).toSelf();\n    bind(VSXExtensionFactory).toFactory(ctx => (option: VSXExtensionOptions) => {\n        const child = ctx.container.createChild();\n        child.bind(VSXExtensionOptions).toConstantValue(option);\n        return child.get(VSXExtension);\n    });\n    bind(VSXExtensionsModel).toSelf().inSingletonScope();\n\n    bind(VSXExtensionEditor).toSelf();\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: VSXExtensionEditor.ID,\n        createWidget: async (options: VSXExtensionOptions) => {\n            const extension = await ctx.container.get(VSXExtensionsModel).resolve(options.id);\n            const child = ctx.container.createChild();\n            child.bind(VSXExtension).toConstantValue(extension);\n            return child.get(VSXExtensionEditor);\n        }\n    })).inSingletonScope();\n    bind(VSXExtensionEditorManager).toSelf().inSingletonScope();\n    bind(OpenHandler).toService(VSXExtensionEditorManager);\n\n    bind(WidgetFactory).toDynamicValue(({ container }) => ({\n        id: VSXExtensionsWidget.ID,\n        createWidget: async (options: VSXExtensionsWidgetOptions) => VSXExtensionsWidget.createWidget(container, options)\n    })).inSingletonScope();\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: VSXExtensionsViewContainer.ID,\n        createWidget: async () => {\n            const child = ctx.container.createChild();\n            child.bind(ViewContainerIdentifier).toConstantValue({\n                id: VSXExtensionsViewContainer.ID,\n                progressLocationId: 'extensions'\n            });\n            child.bind(VSXExtensionsViewContainer).toSelf();\n            const viewContainer = child.get(VSXExtensionsViewContainer);\n            const widgetManager = child.get(WidgetManager);\n            for (const id of [VSXExtensionsSourceOptions.SEARCH_RESULT, VSXExtensionsSourceOptions.INSTALLED, VSXExtensionsSourceOptions.BUILT_IN]) {\n                const widget = await widgetManager.getOrCreateWidget(VSXExtensionsWidget.ID, { id });\n                viewContainer.addWidget(widget, {\n                    initiallyCollapsed: id === VSXExtensionsSourceOptions.BUILT_IN\n                });\n            }\n            return viewContainer;\n        }\n    })).inSingletonScope();\n\n    bind(VSXExtensionsSearchModel).toSelf().inSingletonScope();\n    bind(VSXExtensionsSearchBar).toSelf().inSingletonScope();\n\n    bindViewContribution(bind, VSXExtensionsContribution);\n    bind(FrontendApplicationContribution).toService(VSXExtensionsContribution);\n    bind(ColorContribution).toService(VSXExtensionsContribution);\n    bind(TabBarToolbarContribution).toService(VSXExtensionsContribution);\n});\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from 'inversify';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class VSXEnvironment {\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    protected _registryUri: URI | undefined;\n    async getRegistryUri(): Promise<URI> {\n        if (!this._registryUri) {\n            const vsxRegistryUrl = await this.environments.getValue('VSX_REGISTRY_URL');\n            this._registryUri = new URI(vsxRegistryUrl && vsxRegistryUrl.value || 'https://open-vsx.org');\n        }\n        return this._registryUri;\n    }\n\n    async getRegistryApiUri(): Promise<URI> {\n        const registryUri = await this.getRegistryUri();\n        return registryUri.resolve('api');\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from '@theia/core/lib/common/uri';\n\nexport namespace VSXExtensionUri {\n    export function toUri(id: string): URI {\n        return new URI(`vscode:extension/${id}`);\n    }\n    export function toId(uri: URI): string | undefined {\n        if (uri.scheme === 'vscode' && uri.path.dir.toString() === 'extension') {\n            return uri.path.base;\n        }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as bent from 'bent';\nimport { injectable, inject } from 'inversify';\nimport { VSXExtensionRaw, VSXSearchParam, VSXSearchResult } from './vsx-registry-types';\nimport { VSXEnvironment } from './vsx-environment';\n\nconst fetchText = bent('GET', 'string', 200);\nconst fetchJson = bent('GET', 'json', 200);\n\nexport interface VSXResponseError extends Error {\n    statusCode: number\n}\nexport namespace VSXResponseError {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function is(error: any): error is VSXResponseError {\n        return !!error && typeof error === 'object'\n            && 'statusCode' in error && typeof error['statusCode'] === 'number';\n    }\n}\n\n@injectable()\nexport class VSXRegistryAPI {\n\n    @inject(VSXEnvironment)\n    protected readonly environment: VSXEnvironment;\n\n    async search(param?: VSXSearchParam): Promise<VSXSearchResult> {\n        const apiUri = await this.environment.getRegistryApiUri();\n        let searchUri = apiUri.resolve('-/search').toString();\n        if (param) {\n            let query = '';\n            if (param.query) {\n                query += 'query=' + encodeURIComponent(param.query);\n            }\n            if (param.category) {\n                query += 'category=' + encodeURIComponent(param.category);\n            }\n            if (param.size) {\n                query += 'size=' + param.size;\n            }\n            if (param.offset) {\n                query += 'offset=' + param.offset;\n            }\n            if (query) {\n                searchUri += '?' + query;\n            }\n        }\n        return this.fetchJson<VSXSearchResult>(searchUri);\n    }\n\n    async getExtension(id: string): Promise<VSXExtensionRaw> {\n        const apiUri = await this.environment.getRegistryApiUri();\n        return this.fetchJson(apiUri.resolve(id.replace('.', '/')).toString());\n    }\n\n    protected async fetchJson<T>(url: string): Promise<T> {\n        const result = await fetchJson(url);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return result as any as T;\n    }\n\n    fetchText(url: string): Promise<string> {\n        return fetchText(url);\n    }\n\n}\n","module.exports = __webpack_public_path__ + \"dc40ddb3b11b95bbf1a577d599c9ff19.png\";","module.exports = \"data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0iI0Y2RjZGNiIgaGVpZ2h0PSIyOCIgdmlld0JveD0iMCAwIDI4IDI4IiB3aWR0aD0iMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0Y2RjZGNiI+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtMyAzaDEwdjRoLTZ2NiAyIDZoNnY0aC0xMHptMTggMTJ2NmgtNnY0aDEwdi0xMHptNC0ydi0xMGgtMTB2NGgzdi0xaDR2NGgtMXYzeiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PHBhdGggZD0ibTkgOWgxMHYxMGgtMTB6Ii8+PC9nPjwvc3ZnPgo=\"","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}